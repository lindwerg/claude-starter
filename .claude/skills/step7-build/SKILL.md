---
name: step7-build
description: "–®–∞–≥ 7: –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –ò—Å–ø–æ–ª—å–∑—É–π: 'build', 'ralph', '—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞', 'step7'"
allowed-tools: [Read, Write, Edit, Bash, Glob, Grep, TodoWrite, Task]
---

# –®–∞–≥ 7: –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

Ralph Loop ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á.

## –ß—Ç–æ —ç—Ç–æ?

–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–π:
- –ß–∏—Ç–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ `.bmad/task-queue.yaml`
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é –∑–∞–¥–∞—á—É –Ω—É–∂–Ω–æ–º—É –∞–≥–µ–Ω—Ç—É
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ (typecheck, lint, test)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–º–∏—Ç–∏—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –±–ª–æ–∫–µ—Ä—ã

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

–ü–æ—Å–ª–µ `/step6-validate`, –∫–æ–≥–¥–∞ task-queue.yaml –≥–æ—Ç–æ–≤.

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å?

```bash
/step7-build
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```
for each task in queue:
  ‚îú‚îÄ –í—ã–±–æ—Ä –∞–≥–µ–Ω—Ç–∞ –ø–æ —Ç–∏–ø—É –∑–∞–¥–∞—á–∏
  ‚îú‚îÄ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
  ‚îú‚îÄ Quality Gates:
  ‚îÇ   ‚îú‚îÄ pnpm typecheck
  ‚îÇ   ‚îú‚îÄ pnpm lint
  ‚îÇ   ‚îî‚îÄ pnpm test
  ‚îú‚îÄ Auto-commit
  ‚îî‚îÄ –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞ –∏–ª–∏ BLOCKED
```

## –ê–≥–µ–Ω—Ç—ã

| –¢–∏–ø –∑–∞–¥–∞—á–∏ | –ê–≥–µ–Ω—Ç | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|------------|-------|------------|
| `api` | api-agent | –û–±–Ω–æ–≤–ª—è–µ—Ç openapi.yaml |
| `backend` | backend-agent | –°–æ–∑–¥–∞—ë—Ç VSA slices |
| `frontend` | frontend-agent | –°–æ–∑–¥–∞—ë—Ç FSD components |
| `test` | test-agent | –ü–∏—à–µ—Ç —Ç–µ—Å—Ç—ã (TDD) |
| `devops` | devops-agent | Docker, CI/CD |

## Quality Gates (Backpressure)

–ó–∞–¥–∞—á–∞ –ù–ï –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –ø–æ–∫–∞:

```bash
‚úÖ pnpm typecheck    # Zero TypeScript errors
‚úÖ pnpm lint         # Zero ESLint warnings
‚úÖ pnpm test         # All tests passing
```

–≠—Ç–æ enforced hooks, –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

## –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| `pending` | –û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `in_progress` | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è |
| `completed` | –ó–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ |
| `blocked` | –¢—Ä–µ–±—É–µ—Ç –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ |
| `skipped` | –ü—Ä–æ–ø—É—â–µ–Ω–∞ (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å blocked) |

## –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ

–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ blocked:
1. –ß–∏—Ç–∞–π `.bmad/task-queue.yaml` ‚Äî —Ç–∞–º –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
2. –ò—Å–ø—Ä–∞–≤—å –≤—Ä—É—á–Ω—É—é
3. –ó–∞–ø—É—Å—Ç–∏ `/step7-build` —Å–Ω–æ–≤–∞ ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å blocked –∑–∞–¥–∞—á–∏

## –ü—Ä–æ–≥—Ä–µ—Å—Å

–°–ª–µ–¥–∏ –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º:
```bash
cat .bmad/task-queue.yaml | grep status
```

## –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ö–æ–≥–¥–∞ –≤—Å–µ –∑–∞–¥–∞—á–∏ completed:
```bash
/commit  # –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç
```

---

## PRE-FLIGHT: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

**BEFORE –∑–∞–ø—É—Å–∫–∞ ‚Äî —É–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å—ë –≥–æ—Ç–æ–≤–æ:**

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Task Queue

```bash
ls -la .bmad/task-queue.yaml
```

**–ï—Å–ª–∏ —Ñ–∞–π–ª –ù–ï –Ω–∞–π–¥–µ–Ω:**
```
‚ùå Task Queue –Ω–µ –Ω–∞–π–¥–µ–Ω!

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π task queue:
/step6-validate
```
STOP ‚Äî Ralph Loop —Ç—Ä–µ–±—É–µ—Ç task-queue.yaml.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Sprint Status

```bash
ls -la .bmad/sprint-status.yaml
```

**–ï—Å–ª–∏ —Ñ–∞–π–ª –ù–ï –Ω–∞–π–¥–µ–Ω:**
```
‚ùå Sprint Status –Ω–µ –Ω–∞–π–¥–µ–Ω!

–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π sprint status:
/step6-validate
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Project Structure

```bash
ls backend/package.json frontend/package.json
```

**–£–±–µ–¥–∏—Å—å —á—Ç–æ:**
- ‚úÖ backend/ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ frontend/ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ backend/package.json –∏–º–µ–µ—Ç: typecheck, lint, test
- ‚úÖ frontend/package.json –∏–º–µ–µ—Ç: typecheck, lint, test

---

## EXECUTION

### –®–∞–≥ 1: –í—ã–∑–æ–≤–∏ Ralph Loop

**üö® CRITICAL: –í—ã–∑–æ–≤–∏ ralph-loop skill –°–ï–ô–ß–ê–°! üö®**

```bash
Skill(skill: "ralph-loop")
```

**–ò–õ–ò —á–µ—Ä–µ–∑ Task tool (–¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞):**

```bash
Task({
  subagent_type: "general-purpose",
  description: "Execute Ralph Loop",
  prompt: "Run ralph-loop skill to execute all tasks from .bmad/task-queue.yaml",
  run_in_background: true  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
})
```

**IMPORTANT:**
- –ù–ï –ø—ã—Ç–∞–π—Å—è —Å–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏
- –ù–ï —á–∏—Ç–∞–π task-queue –∏ –¥–µ–ª–∞–π –≤—Ä—É—á–Ω—É—é
- –í–´–ó–û–í–ò ralph-loop skill - –æ–Ω –∑–Ω–∞–µ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å

### Ralph Loop –±—É–¥–µ—Ç:
1. –ß–∏—Ç–∞—Ç—å .bmad/task-queue.yaml
2. –ù–∞—Ö–æ–¥–∏—Ç—å next pending task (—Å done dependencies)
3. –°–ø–∞–≤–Ω–∏—Ç—å subagent (backend-agent, frontend-agent –∏ —Ç.–¥.)
4. –ü—Ä–æ–≤–µ—Ä—è—Ç—å quality gates (typecheck, lint, test)
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–º–º–∏—Ç–∏—Ç—å
6. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–µ
7. –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–æ–∫–∞: ALL DONE –∏–ª–∏ BLOCKED

### –®–∞–≥ 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

–ü–æ–∫–∞ Ralph —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–µ—à—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

```bash
# –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
grep "status:" .bmad/task-queue.yaml | head -10

# –°–∫–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
grep -c "status: done" .bmad/task-queue.yaml

# –ï—Å—Ç—å –ª–∏ –±–ª–æ–∫–µ—Ä—ã
grep "status: blocked" .bmad/task-queue.yaml
```

### –®–∞–≥ 3: –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ

–ï—Å–ª–∏ Ralph BLOCKED:
1. –ß–∏—Ç–∞–π .bmad/task-queue.yaml - —Ç–∞–º –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
2. –ò—Å–ø—Ä–∞–≤—å –≤—Ä—É—á–Ω—É—é
3. –ó–∞–ø—É—Å—Ç–∏ `/step7-build` —Å–Ω–æ–≤–∞ - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å blocked

---

## –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/step7-build` | –ó–∞–ø—É—Å–∫/–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ |
| `/step7-build --status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å |
| `/step7-build --skip TASK-001` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É |
| `/step7-build --retry TASK-001` | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–¥–∞—á—É |
